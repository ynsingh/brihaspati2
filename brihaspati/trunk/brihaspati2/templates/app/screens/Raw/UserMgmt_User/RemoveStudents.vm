#*
 * @(#)RemoveStudents.vm
 * Copyright (c) 2005,2009-2010 ETRG,IIT Kanpur.
 * All Rights Reserved.
 * @author <a href="mailto:awadhesh_trivedi@yahoo.co.in">Awadhesh Kumar Trivedi</a>
 * @author <a href="mailto:sweetshaista00@yahoo.com">Shaista Shekh</a>
 * @author <a href="mailto:singh_jaivir@rediffmail.com">Jaivir Singh</a>
 * @modified date:09-04-2010
 * Contributors: Members of ETRG, I.I.T. Kanpur
 *#

$page.setTitle("Home |$cname | Student Management | Remove Student")
$page.setBgColor($ui.bgcolor)
$!data.getMessage()
<head>
<link rel="stylesheet" type="text/css" href="$content.getURI("/scrpts/htmlarea.css")" media="screen"/>
</head>
<head>
<link rel="stylesheet" type="text/css" href="$content.getURI("/scrpts/htmlarea.css")" media="screen"/>
<script type="text/javascript" src="$content.getURI("/scrpts/PopWin.js")"></script>
</head>

#set($lang=$data.getUser().getTemp("lang").toString()) 
<table bgcolor="$ui.menuColor" width=100%>
<tr>
        <td>
        <a href=$link.setPage("call,IndexHome.vm") style=text-decoration:none>$brih_home</a> |
        <a href=$link.setPage("call,CourseMgmt_User,CourseHome.vm") style=text-decoration:none>$course</a> |
        <a href=$link.setPage("call,UserMgmt_User,StudentManagement.vm").addPathInfo("count","1") style=text-decoration:none>$brih_student $brih_mgmt</a> | 
	#if(( $data.getUser().getTemp("lang" ).toString())=="hindi")
		$brih_student $brih_remove
	#else
		$brih_remove $brih_student
	#end
        </td>
	<td align=right>
	 #if( $total_size!=0 )
		#if( $endIndex < $total_size )
			#if( $endIndex < $userConf )
			[$k - $total_size] of $total_size
			#elseif($k == $j)
			[$k - $total_size] of $total_size
		        #else
			[$k - $endIndex] of $total_size
			#end
		#else
		[$k - $total_size] of $total_size
		#end
	#end
	</td>
        <td align="right">
                <img src="$content.getURI("/images/hand.gif")"><a href=javascript:popupWin("/brihaspati/docs/RemoveStudent.html","newWin"); style=text-decoration:none><font size=4>$brih_help</font></a>
                </td>
</tr>
</table>
##if($user_role == "instructor")
<table bgcolor="$ui.tableColor" width=100%>
<tr>
	#if($tdcolor != "1")
	<td>
	#elseif($tdcolor == "1")
        <td bgcolor="#AFDCEC">
	#end
	<a href=$link.setPage("call,UserMgmt_User,StudentManagement.vm").addPathInfo("count","1") style=text-decoration:none> #if($lang =="hindi") $brih_student $brih_add #else $brih_add $brih_students #end </a>
	</td>
	#if($tdcolor != "2")
	<td>
	#elseif($tdcolor == "2")
        <td bgcolor="#AFDCEC">
	#end
        <a href=$link.setPage("call,UserMgmt_User,RemoveStudents.vm").addPathInfo("count","2") style=text-decoration:none>$brih_rem_student</a></td>
	#if($tdcolor != "3")
	<td>
	#elseif($tdcolor == "3")
        <td bgcolor="#AFDCEC">
	#end
        <a href=$link.setPage("call,UserMgmt_User,MultiUserReg_Instructor.vm").addPathInfo("count","3") style=text-decoration:none> #if($lang =="hindi") $brih_multiple1 $brih_student $brih_add #else $brih_add $brih_multiple1 $brih_students #end </a></td>
	#if($tdcolor != "4")
	<td>
	#elseif($tdcolor == "4")
        <td bgcolor="#AFDCEC">
	#end
        <a href=$link.setPage("call,UserMgmt_User,StudentList.vm").addPathInfo("mode","All").addPathInfo("count","4") style=text-decoration:none>$brih_listOfStudent</a></td>
	#if($tdcolor != "5")
	<td>
	#elseif($tdcolor == "5")
        <td bgcolor="#AFDCEC">
	#end
        <a href=$link.setPage("call,OnLine_Rgtn,ViewOnlineRegistrationInstructor.vm").addPathInfo("count","5") style=text-decoration:none>$online_online $brih_reg</a></td>
	#if($tdcolor != "6")
        <td>
        #elseif($tdcolor=="6")
        <td bgcolor="#AFDCEC">
        #end
        <a href=$link.setPage("call,ListMgmt_InstituteAdmin,Parent_Mgmt.vm").addPathInfo("count","6").addPathInfo("mode","instructor").addPathInfo("searchFor","instructor") style=text-decoration:none>$brih_parent $brih_info</a>
        </td>

        </tr>
##</table>
##end
#if($lang =="hindi")
	#set ( $headings = ["$brih_usr $brih_Of1 $brih_name","$brih_first $brih_name","$brih_last $brih_name","$brih_email"] )
#else
	#set ( $headings = ["$brih_usr $brih_name","$brih_first $brih_name","$brih_last $brih_name","$brih_email"] )
#end
<FORM ENCTYPE="multipart/form-data" NAME="frm" METHOD="POST" ACTION="$link.setPage("call,UserMgmt_User,RemoveStudents.vm").setAction("UserAction_Instructor")">

#if($status=="notempty")
##<table bgcolor="$ui.tableColor" align=left width=100%>
	<tr bgcolor="$ui.menuColor">
	<td width=20%><input type="CHECKBOX" name="checkAll" onClick=selectAll(this);>$brih_selAll
	##</td>
	##<td>
       		#foreach ($heading in $headings)
                #headerCell ($heading)
                #end
	</td>
	 <td></td>
        </tr>
	#set( $count = "" )
	#foreach($users in $userdetail)
	#if($velocityCount%2==0)
	<tr bgcolor="$ui.menuColor">
	#else
	<tr bgcolor="$ui.tableColor">
	#end
	#foreach($user in $users)
        <td><INPUT TYPE="CHECKBOX" NAME=$!user.UserName onClick="addDeleteList(this,document.frm);"></td>
	<td>$!user.UserName</td>
        <td>$!user.FirstName</td>
        <td>$!user.LastName</td>
	<td>$!user.Email</td>
	<td></td>
        </tr>
#set ( $count = "$count$!user.UserName^"  )
#end
	#end
	</tr>
	<tr bgcolor="$ui.menuColor">
		<td colspan=6>
			<INPUT TYPE="button" class="button-ftextstyle" NAME="eventSubmit_doRemove" VALUE="$brih_remove" onClick="checkValue(document.frm,this);">
			<INPUT TYPE="hidden" NAME="deleteFileNames" VALUE="">
			<INPUT TYPE="hidden" NAME="actionName" VALUE="">
			<INPUT TYPE="hidden" NAME="count" VALUE="$tdcolor">
		</td>
	</tr>

<tr>
<td align=left bgcolor="$ui.tableColor" colspan=6>
	#if($total_size <= $userConf)
	<img src="$content.getURI("images/First_blank.png")">
        <img src="$content.getURI("images/Previous_blank.png")">
        <img src="$content.getURI("images/Next_blank.png")">
        <img src="$content.getURI("images/Last_blank.png")">

        #elseif($startIndex == $userConf_string)
        <img src="$content.getURI("images/First_blank.png")">
        <img src="$content.getURI("images/Previous_blank.png")">
        <a href=$link.setPage("call,UserMgmt_User,RemoveStudents.vm").addPathInfo("startIndex",$startIndex) style=text-decoration:none><img src="$content.getURI("images/Next.png")"></a>
        <a href=$link.setPage("call,UserMgmt_User,RemoveStudents.vm").addPathInfo("startIndex",$check_last) style=text-decoration:none><img src="$content.getURI("images/Last.png")"></a>

        #elseif($endIndex == $total_size || $endIndex > $total_size)
        <a href=$link.setPage("call,UserMgmt_User,RemoveStudents.vm").addPathInfo("startIndex",$check_first) style=text-decoration:none><img src="$content.getURI("images/First.png")"></a>
        <a href=$link.setPage("call,UserMgmt_User,RemoveStudents.vm").addPathInfo("startIndex",$check_pre) style=text-decoration:none><img src="$content.getURI("images/Previous.png")"></a>
        <img src="$content.getURI("images/Next_blank.png")">
        <img src="$content.getURI("images/Last_blank.png")">

        #else
        <a href=$link.setPage("call,UserMgmt_User,RemoveStudents.vm").addPathInfo("startIndex",$check_first) style=text-decoration:none><img src="$content.getURI("images/First.png")"></a>
        <a href=$link.setPage("call,UserMgmt_User,RemoveStudents.vm").addPathInfo("startIndex",$check_pre) style=text-decoration:none><img src="$content.getURI("images/Previous.png")"></a>
        <a href=$link.setPage("call,UserMgmt_User,RemoveStudents.vm").addPathInfo("startIndex",$startIndex).addPathInfo("end",$endIndex) style=text-decoration:none><img src="$content.getURI("images/Next.png")"></a>
        <a href=$link.setPage("call,UserMgmt_User,RemoveStudents.vm").addPathInfo("startIndex",$check_last) style=text-decoration:none><img src="$content.getURI("images/Last.png")"></a>

	#end
	</td>
	</tr>
</table>

#end	
</FORM>

<SCRIPT LANGUAGE="javascript">
function checkValue(frm,field)
{
	if(frm.deleteFileNames.value!="")
	{
		frm.actionName.value=field.name;
		frm.submit();
	}
	else
	{
		alert("Please Select check box for deletion !!");
	}
}
function addDeleteList(field,frm)
{
if(field.checked)
{
frm.deleteFileNames.value=frm.deleteFileNames.value+field.name+"^";
}
                else
                {
                        var rmFile,index,actualString,preString,postString;
                        actualString=frm.deleteFileNames.value;
                        index=actualString.indexOf(field.name+"^",0);
                        preString=actualString.substring(0,index);
                        postString=actualString.substring(index+field.name.length+1);
			actualString=preString+postString;
                        frm.deleteFileNames.value=actualString;
                }
}


 function selectAll(field)
{
        if(field.checked)
        {
                var rmFile,index,actualString,pre=0,next=0;
                actualString=document.frm.deleteFileNames.value="$count";
                while( ( pre=actualString.indexOf("^",next) ) >=0 )
                        {
                         var temp=actualString.substring(next,pre);
                         next=pre+1;
                        rmFile=document.frm.elements[temp].checked=true;


                         }

        }
        else
        {
                    var rmFile,index,actualString,pre=0,next=0;
                             actualString=document.frm.deleteFileNames.value="$count";

                  while( ( pre=actualString.indexOf("^",next) ) >=0 )

                        {
                         var temp=actualString.substring(next,pre);
                         next=pre+1;
                         rmFile=document.frm.elements[temp].checked=false;
                        }
                        document.frm.deleteFileNames.value="";
           }
}
</SCRIPT>
<table bgcolor="$ui.menuColor" align=left width=100%>
#foreach( $e in $error_user )
        <tr bgcolor="$ui.tableColor">
        <td align=center>
        <font face="$ui.sansSerifFonts">$brih_usrName<font color="brown">"$e.getErr_User()"</font>
        </font>
        </td>
        <td align=center>
        <font face="$ui.sansSerifFonts">$e.getErr_Type()</font>
        </td>
        </tr>
#end
</table>
